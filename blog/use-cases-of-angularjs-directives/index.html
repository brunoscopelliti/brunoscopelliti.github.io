<!DOCTYPE html>
<html lang="en-us">
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <meta charset="utf-8">

    <title>Use cases of AngularJS directives | Bruno Scopelliti</title>

    
    <meta name="description" content="Use case of AngularJS directives">
    

    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400&display=swap" rel="stylesheet">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <link rel="stylesheet" href="/css/style.60a17aba8dcd9036d2932e6dadb256c1a62f60e0d2b4f969ea8d316720037bea.css" integrity="sha256-YKF6uo3NkDbSky5trbJWwaYvYODStPlp6o0xZyADe&#43;o=">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@brunoscopelliti">
<meta name="twitter:title" content="Use cases of AngularJS directives">



<meta name="twitter:image" content="/images/post-cards/use-cases-of-angularjs-directives.png">
<meta name="twitter:description" content="I explore AngularJS directives, and some of their typical use cases within an application.">


    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    
    <script>
      (function(){function s(e,n,r){return e===r?null:e.matches(n)?e:e.parentNode?s(e.parentNode,n,r):null}function c(e,n){return function(u){var a=s(u.target,n,this);a!=null&&e.call(a,u)}}function i(e,n){return function(){n(),e.apply(this,[].slice.call(arguments))}}function o(e,n,r,u){u=u||{};var a=u.useCapture||!1;function t(){n.removeEventListener(e,l,a)}var l=u.once?i(r,t):r;return n.addEventListener(e,l,a),t}function d(e,n){return(n||document.body).querySelector(e)}var f=[].slice;function p(e,n){return f.call((n||document.body).querySelectorAll(e))}function h(e,n,r,u,a){var t=new XMLHttpRequest;t.open(e,n),t.setRequestHeader("Accept","application/json"),t.onreadystatechange=function(){if(t.readyState!==XMLHttpRequest.DONE)return;t.status===200?u(t.response,t.responseType):a(t.status,t.response,t.responseType)},t.send(r)}window.BS_blog={ajax:h,delegate:c,$1:d,$:p,listen:o};})();

    </script>
  </head>
  <body class="">
    <a id="skip-nav" href="#main">Go to content</a>

    <header class="site-header">
      <div class="site-width-wrapper">
        <div class="site-nav">
            <a class="avatar-home-link" href="/">
              <span class="avatar-frame"><img src="/images/me.jpg" alt="Bruno Scopelliti" /></span>
              <span>Bruno Scopelliti</span>
            </a><button class="menu-btn" data-js="hamburger" aria-label="Open menu">
  <i class="hamburger" aria-hidden="true">
    <span></span>
    <span></span>
    <span></span>
    <span></span>
  </i>
</button>
<nav class="menu">
  <ul class="menu-links">
    
    
      <li class="">
        <a href="/">Home</a>
      </li>
    
      <li class="">
        <a href="/blog/">Blog</a>
      </li>
    
      <li class="">
        <a href="/about/">About</a>
      </li>
    
    <li class="search">
      <a href="/blog/search" aria-label="Search">
        <svg aria-hidden="true" height="18" viewBox="0 0 48 48" width="18" xmlns="http://www.w3.org/2000/svg">
          <path fill="white" d="M31 28h-1.59l-.55-.55C30.82 25.18 32 22.23 32 19c0-7.18-5.82-13-13-13S6 11.82 6 19s5.82 13 13 13c3.23 0 6.18-1.18 8.45-3.13l.55.55V31l10 9.98L40.98 38 31 28zm-12 0c-4.97 0-9-4.03-9-9s4.03-9 9-9 9 4.03 9 9-4.03 9-9 9z"/>
          <path d="M0 0h48v48H0z" fill="none"/>
        </svg>
        <span>Search</span>
      </a>
    </li>
    <li class="socials"><div class="social-links">
  <a href="https://twitter.com/brunoscopelliti" target="_blank" rel="noopener noreferrer" aria-label="Twitter"><svg height="24px" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="24px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path fill="#fff" d="M346.8,80c22.3,0,43.8,9.3,59,25.6l6.1,6.5l8.7-1.7c4.5-0.9,8.9-1.9,13.3-3.1c-1,1.4-5.7,6.1-11,10.8  c-4.5,4-17.8,16.5-17.8,16.5s13,4.1,21.1,5s17.4-0.6,18.9-0.8c-2.8,2.3-7.8,5.8-10.8,7.9l-7,5.1l0.4,8.6c0.2,3.8,0.3,7.8,0.3,11.8  c0,30.2-5.9,61.8-17,91.5c-11.7,31.2-28.5,59.4-50,83.8c-23,26.1-50.2,46.5-81.1,60.8c-33.8,15.7-71.3,23.6-111.5,23.6  c-28.9,0-57.4-4.8-84.5-14.2c9.9-1.9,19.6-4.6,29.1-7.9c21.7-7.6,41.9-18.7,60.1-33l35.3-27.7l-44.9-0.8  c-26.1-0.5-49.7-13.4-64.3-33.9c7.3-0.5,14.5-1.8,21.5-3.7l60.7-20.2l-61.7-10.9c-29.6-5.9-52.8-27.9-61.3-55.8  c7.8,2,15.4,2.8,23.9,3.3c0,0,31.8,1.4,55.8-0.1c-13-6.2-46.4-29.2-46.4-29.2c-22.5-15.1-36-40.2-36-67.4c0-6.4,0.8-12.8,2.2-19  c21.9,22.4,47,41.1,75.1,55.5c37,19.1,76.9,29.8,118.6,31.9l21.2,1.1l-4.8-20.7c-1.4-5.9-2.1-12.1-2.1-18.5  C265.9,116.3,302.2,80,346.8,80 M346.8,64c-53.5,0-96.8,43.4-96.8,96.9c0,7.6,0.8,15,2.5,22.1C172,179,100.6,140.4,52.9,81.7  c-8.3,14.3-13.1,31-13.1,48.7c0,33.6,17.1,63.3,43.1,80.7C67,210.7,52,206.3,39,199c0,0.4,0,0.8,0,1.2c0,47,33.4,86.1,77.7,95  c-8.1,2.2-16.7,3.4-25.5,3.4c-6.2,0-12.3-0.6-18.2-1.8c12.3,38.5,48.1,66.5,90.5,67.3c-33.1,26-74.9,41.5-120.3,41.5  c-7.8,0-15.5-0.5-23.1-1.4C62.9,432,113.8,448,168.4,448C346.6,448,444,300.3,444,172.2c0-4.2-0.1-8.4-0.3-12.5  c18.9-13.7,35.3-30.7,48.3-50.2c-17.4,7.7-36,12.9-55.6,15.3c20-12,35.4-31,42.6-53.6c-18.7,11.1-39.4,19.2-61.5,23.5  C399.8,75.8,374.6,64,346.8,64L346.8,64z"/>
</svg></a>
  <a href="https://github.com/brunoscopelliti" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg height="24px" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="24px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true">
  <path fill="#fff" d="M256,48.3c28,0,55.2,5.6,80.8,16.7c24.8,10.7,47,26.1,66.1,45.7c19.1,19.6,34.2,42.5,44.7,67.9  c10.9,26.4,16.4,54.4,16.4,83.3c0,45.8-13.9,89.5-40.2,126.3c-12.6,17.7-27.8,33.2-45,46.2c-15.8,11.9-33,21.3-51.2,28.2  c0-1.9,0-4.1,0-6.5c0.1-11.9,0.2-29.8,0.2-50.4c0-12.4-2-22.5-4.9-30.5c37.2-8.3,92-33.7,92-125.4c0-24.6-7.1-46.5-21.2-65.1  c3.1-12.9,5.5-35.6-5.1-63l-2.7-7.1l-7.2-2.4c-1.5-0.5-4.8-1.3-10-1.3c-11.5,0-30.9,3.9-59.5,22.6c-17-4.2-34.8-6.6-53.1-6.6H256  h-0.1c-18.3,0-36.2,2.4-53.1,6.6c-28.6-18.7-48-22.7-59.5-22.7c-5.2,0-8.5,0.9-10,1.4l-7.2,2.4l-2.7,7.1c-10.6,27.5-8.2,50.2-5.1,63  c-14.1,18.7-21.2,40.6-21.2,65.1c0,49.6,16,79.9,36.6,98.5c-8.1-6.6-18.6-12.1-31.2-13l-0.5,0l-0.5,0l-0.3,0  c-13.1,0-22.3,5.4-25.2,14.7c-4.7,14.8,9.8,25,14.6,28.4l0.5,0.6l1.5,0.6c1.6,1,10.1,7,16.9,24.5c2,6.2,6.3,14.5,13.6,22.2  c-13.1-11.2-24.8-24-34.9-38.1C61.9,351.5,48,307.8,48,262c0-28.9,5.5-56.9,16.4-83.3c10.5-25.5,25.5-48.3,44.7-67.9  c19.1-19.6,41.4-35,66.1-45.7C200.8,54,228,48.3,256,48.3 M136.7,351c16.8,14.1,36.3,20.9,52.3,24.5c-0.8,2.2-1.5,4.5-2.1,6.9  c-3.4,1-7.5,1.8-11.7,1.8c-10.9,0-19-5.4-25.6-16.9C147.2,362.7,142.8,356.6,136.7,351 M140.4,439.6c9.8,5.3,22.1,8.8,37.2,8.8  c2.2,0,4.4-0.1,6.7-0.2c0,2.8,0,5.5,0.1,7.9c0,2.4,0,4.6,0.1,6.5C168.9,456.8,154.2,449.1,140.4,439.6 M256,32.3  C132.3,32.3,32,135.2,32,262c0,101.5,64.2,187.5,153.2,217.9c1.4,0.3,2.6,0.4,3.8,0.4c8.3,0,11.5-6.1,11.5-11.4  c0-5.5-0.2-19.9-0.3-39.1c-8.4,1.9-15.9,2.7-22.6,2.7c-43.1,0-52.9-33.5-52.9-33.5c-10.2-26.5-24.9-33.8-24.9-33.8  c-19.5-13.7-0.1-14.2,1.4-14.2c0.1,0,0.1,0,0.1,0c22.5,2,34.3,23.9,34.3,23.9c11.2,19.6,26.2,25.2,39.6,25.2c10.5,0,20-3.4,25.6-6  c2-14.8,7.8-24.9,14.2-30.7c-49.7-5.8-102-25.5-102-113.5c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,1.6-0.5,5-0.5  c8.1,0,26.4,3.1,56.6,24.1c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7c30.2-21,48.5-24.1,56.6-24.1c3.4,0,5,0.5,5,0.5  c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3c8,7.1,15.2,21.1,15.2,42.5  c0,30.7-0.3,55.5-0.3,63c0,5.4,3.1,11.5,11.4,11.5c1.2,0,2.6-0.1,4-0.4C415.9,449.5,480,363.4,480,262  C480,135.2,379.7,32.3,256,32.3L256,32.3z"/>
</svg></a>
  <a href="/blog/index.xml" aria-label="RSS"><svg height="24px" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="24px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <g fill="#fff">
    <path d="M119.9,336.1c-30.8,0-55.9,25.1-55.9,55.8c0,30.8,25.1,55.6,55.9,55.6c30.9,0,55.9-24.9,55.9-55.6   C175.8,361.2,150.8,336.1,119.9,336.1z M119.9,431.5c-22,0-39.9-17.8-39.9-39.6c0-21.9,17.9-39.8,39.9-39.8   c22,0,39.9,17.9,39.9,39.8C159.8,413.7,141.9,431.5,119.9,431.5z"/>
    <path d="M64,192v79.9c48,0,94.1,14.2,128,48.1c33.9,33.9,48,79.9,48,128h80C320,308.1,204,192,64,192z M303.5,432h-48   c-3.1-49.7-21-92.1-52.2-123.3C172.1,277.4,130,259.5,80,256.4v-47.8c26,1.8,52.1,8,76.7,18.5c28.5,12.2,54.2,29.6,76.4,51.8   c22.2,22.2,39.6,47.9,51.8,76.4C295.5,379.9,301.7,405.6,303.5,432z"/>
    <path d="M64,64v79.9c171,0,303.9,133,303.9,304.1H448C448,236.3,276,64,64,64z M291.4,220.5C235.4,164.4,161,132,80,128.2V80.3   C270,88.5,423.5,241.8,431.7,432h-48.2C379.7,351.1,347.3,276.5,291.4,220.5z"/>
  </g>
</svg></a>
</div></li>
  </ul>
</nav>

<script>
  (function(){var u=window.BS_blog,l=u.$1,a=u.listen,t={open:!1};function o(){return l("[data-js='hamburger']")}function s(n){n.which===27&&(e&&(e(),e=null),i())}var e;function r(){t.open?e=a("keyup",document,s):(e(),e=null)}function c(){var n=o();document.body.classList.add("menu-open"),n.setAttribute("aria-label","Close menu"),t.open=!0}function i(){var n=o();document.body.classList.remove("menu-open"),n.setAttribute("aria-label","Open menu"),t.open=!1}function f(){t.open?i():c(),r()}a("click",o(),f);})();

</script></div>
        <div class="page-highlights">
        </div>
      </div>
    </header>

    <div class="page-main-content">
      <main id="main">
<article class="post" data-js="post">
  <div class="post-breadcrumbs">
    <a href="/blog" aria-label="View all articles">Blog</a>
    <span>/</span>
    
    <a href="/blog/search/angularjs/">AngularJS</a>
    <span>/</span>
    
  </div>
  <h1>Use cases of AngularJS directives</h1>
  <div class="post-body"><p>A <a href="https://docs.angularjs.org/guide/directive" title="AngularJS Directive">directive</a> is essentially a function executed when the AngularJS compiler finds its declaration into the DOM.
The function can do almost anything, but as common task we can consider defining a behavior or executing a DOM transformation.
A directive can be presented as an attribute, an element name, a class name, or a name in a comment.</p>
<p>AngularJS comes with a rich built-in set of directives, that can be even extended.</p>
<p>In this post we&rsquo;re covering some typical use cases for custom directives.</p>
<h2 id="basic-syntax-for-custom-directives">Basic syntax for custom directives</h2>
<p>Let&rsquo;s start from the basic syntax to create a custom directive.</p>
<p>For all the code samples in this page I started from the <a href="https://github.com/angular/angular-seed" title="Application skeleton for a typical AngularJS web app">angular-seed template</a>; this makes quite easy to extract a model to begin to implement custom directives.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-html" data-lang="html"><span style="color:#ff79c6">&lt;!doctype html&gt;</span>
&lt;<span style="color:#ff79c6">html</span> <span style="color:#50fa7b">ngApp</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;myApp&#34;</span>&gt;
  &lt;<span style="color:#ff79c6">head</span>&gt;
    &lt;<span style="color:#ff79c6">title</span>&gt;AngularJS examples&lt;/<span style="color:#ff79c6">title</span>&gt;
  &lt;/<span style="color:#ff79c6">head</span>&gt;
  &lt;<span style="color:#ff79c6">body</span>&gt;
    &lt;<span style="color:#ff79c6">div</span> <span style="color:#50fa7b">my-first-directive</span>&gt;&lt;/<span style="color:#ff79c6">div</span>&gt;
    &lt;<span style="color:#ff79c6">script</span> <span style="color:#50fa7b">src</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;lib/angular/angular.js&#34;</span>&gt;&lt;/<span style="color:#ff79c6">script</span>&gt;
    &lt;<span style="color:#ff79c6">script</span> <span style="color:#50fa7b">src</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;js/app.js&#34;</span>&gt;&lt;/<span style="color:#ff79c6">script</span>&gt;
    &lt;<span style="color:#ff79c6">script</span> <span style="color:#50fa7b">src</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;js/directives.js&#34;</span>&gt;&lt;/<span style="color:#ff79c6">script</span>&gt;
  &lt;/<span style="color:#ff79c6">body</span>&gt;
&lt;/<span style="color:#ff79c6">html</span>&gt;
</code></pre></div><p>After including the directive in the html code, we have to instruct AngularJS about what to do when encounters the directive.</p>
<p>The angular-seed template suggests to accomplish this operation in a different javascript file; so in the js/directives.js file, I wrote something like:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-js" data-lang="js">angular.module(<span style="color:#f1fa8c">&#34;myApp.directives&#34;</span>, []).
  directive(<span style="color:#f1fa8c">&#34;myFirstDirective&#34;</span>, <span style="color:#8be9fd;font-style:italic">function</span> (injectables) {
    <span style="color:#ff79c6">return</span> <span style="color:#8be9fd;font-style:italic">function</span> link (scope, element, attrs) {
      <span style="color:#6272a4">// Do stuff here
</span><span style="color:#6272a4"></span>    }
  });
</code></pre></div><p>Now, a final step is required; in the main module - the one from which depends the entire application - we specify the dependencies.
So in the js/app.js file, I wrote:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-js" data-lang="js"><span style="color:#6272a4">// No dependencies... this is not the case!
</span><span style="color:#6272a4">// angular.module(&#34;myApp&#34;, []);
</span><span style="color:#6272a4"></span>
<span style="color:#6272a4">// With dependencies:
</span><span style="color:#6272a4"></span>angular.module(<span style="color:#f1fa8c">&#34;myApp&#34;</span>, [<span style="color:#f1fa8c">&#34;myApp.directives&#34;</span>]);
</code></pre></div><p>Now I will follow these steps to write a custom directive.</p>
<h2 id="custom-directives-use-cases">Custom directives use cases</h2>
<p>At the moment I see two principal scenarios, in which the use of directives could be very useful.</p>
<ul>
<li>
<p><strong>Directives allow code reusability.</strong> Directives indeed could be used to split the code of a complex app into smaller pieces, which could be reused also in others pages, or even in others projects. A typical example could be an e-commerce web app: in this kind of app, there are some components that can&rsquo;t miss, like the cart, the item page etc. All these parts could be realized through directives.</p>
</li>
<li>
<p><strong>Directives allow to save the two way data binding</strong>, when AngularJS is used in conjunction with third party modules, eg. a jQuery plugin.</p>
</li>
</ul>
<h2 id="templating-through-directives">Templating through directives</h2>
<p>Let&rsquo;s start with a simple demo.</p>
<p data-height="280" data-theme-id="dark" data-slug-hash="Bepum" data-preview="true" data-default-tab="result" data-user="brunoscopelliti" class="codepen">
  See the <a href="http://codepen.io/brunoscopelliti/pen/Bepum/">demo</a> by Bruno Scopelliti (<a href="http://codepen.io/brunoscopelliti">@brunoscopelliti</a>) on <a href="http://codepen.io">CodePen</a>.
</p>
<script async src="//assets.codepen.io/assets/embed/ei.js"></script>
<p>The previous example is a super-simplified e-commerce site; it just consists of a search result page, and the shopping cart.</p>
<p>For the sake of simplicity, it is just possible to add an item to the cart, clicking on the special link; and when this is done, the count of the items in the cart will increase.</p>
<p>In every e-commerce web site there must be a shopping cart; it is usually present in every page of the site, so it&rsquo;s for sure a good idea to create a reusable template to model our shopping cart. We could do this thanks to AngularJS directives.</p>
<p>I started including in the html page the new custom directive:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-html" data-lang="html">&lt;<span style="color:#ff79c6">shopping-cart</span>&gt;&lt;/<span style="color:#ff79c6">shopping-cart</span>&gt;
</code></pre></div><p>Since I used the directive as a new html element, in the directive definition object I have to specify a value for the <code>restrict</code> property.
Others properties allow to specify the template (made with real html elements) with which replace the <code>shopping-cart</code> element.</p>
<p>The second directive I wrote is probably more interesting to watch. I used this directive to model each result in the search result page.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-html" data-lang="html">&lt;<span style="color:#ff79c6">div</span> <span style="color:#50fa7b">class</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;item&#34;</span> <span style="color:#50fa7b">ng-repeat</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;i in items&#34;</span>&gt;
  &lt;<span style="color:#ff79c6">div</span> <span style="color:#50fa7b">item-card</span> <span style="color:#50fa7b">item-title</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;{{i.title}}&#34;</span> <span style="color:#50fa7b">item-src</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;{{i.src}}&#34;</span> <span style="color:#50fa7b">item-price</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;{{i.price}}&#34;</span>&gt;&lt;/<span style="color:#ff79c6">div</span>&gt;
&lt;/<span style="color:#ff79c6">div</span>&gt;
</code></pre></div><p>In the directive definition object of the <code>item-card</code> directive new properties appear.</p>
<p>The more interesting thing to note is the <code>scope</code> property in the directive definition object. It allows to create a new isolate scope. The isolate scope takes an object hash which defines a set of local scope properties derived from the parent scope.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-js" data-lang="js">scope<span style="color:#ff79c6">:</span> {
  title<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#34;@itemTitle&#34;</span>,
  price<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#34;@itemPrice&#34;</span>,
  src<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#34;@itemSrc&#34;</span>
}
</code></pre></div><p>This scope override the scope defined in the controller; this means that now is not possible to access the variables and the functions defined in the scope of the main controller. This is actually a problem, cause now</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-html" data-lang="html">&lt;<span style="color:#ff79c6">a</span> <span style="color:#50fa7b">ng-click</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;buyItem(title, price);&#34;</span>&gt;Add to cart&lt;/<span style="color:#ff79c6">a</span>&gt;
</code></pre></div><p>won&rsquo;t works.</p>
<p>To resolve this situation I set the controller property, to specify a new controller specific for the isolate scope created before. This controller could be used in the same way we use the main controller.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-js" data-lang="js">controller<span style="color:#ff79c6">:</span> <span style="color:#8be9fd;font-style:italic">function</span> ($scope, $element, $attrs, $location) {
  $scope.addToCart <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">function</span> (t, p) {
    <span style="color:#6272a4">// get the scope associated with the main controller
</span><span style="color:#6272a4"></span>    <span style="color:#8be9fd;font-style:italic">var</span> mainScope <span style="color:#ff79c6">=</span> angular.element(<span style="color:#f1fa8c">&#34;#main&#34;</span>).scope();
    mainScope.buyItem(t, p);
    <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">false</span>;
  };
}
</code></pre></div><p>And changing the template this way:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-html" data-lang="html">&lt;<span style="color:#ff79c6">a</span> <span style="color:#50fa7b">ng-click</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;addToCart(title, price);&#34;</span>&gt;Add to cart&lt;/<span style="color:#ff79c6">a</span>&gt;
</code></pre></div><p>This example could be used as starting point to show more sophisticated features of AngularJS, and maybe someday I will do this; but meanwhile let&rsquo;s pass to the second use case.</p>
<h2 id="saving-two-way-data-binding-through-directives">Saving two way data binding through directives</h2>
<p>If the first use case could be seen as an optimization of the code, there is another case in which the use of custom directives is not an option.</p>
<p>When your app grows up in complexity, sooner or later comes the time you would like to include a jQuery plugin, or another external library.</p>
<p>This could break the two way data binding (strong point of AngularJS) established between model and view.</p>
<p data-height="280" data-theme-id="dark" data-slug-hash="zIstF" data-preview="true" data-default-tab="result" data-user="brunoscopelliti" class="codepen">
  See the <a href="http://codepen.io/brunoscopelliti/pen/zIstF/">demo</a> by Bruno Scopelliti (<a href="http://codepen.io/brunoscopelliti">@brunoscopelliti</a>) on <a href="http://codepen.io">CodePen</a>.
</p>
<script async src="//assets.codepen.io/assets/embed/ei.js"></script>
<p>The solution to avoid this unpleasant inconvenience, as shown in the above example, is to wrap the plugin around an AngularJS directive, in conjunction with the using one of the following methods:</p>
<ul>
<li>
<p><code>$watch(watchExpression, listener, objectEquality)</code></p>
<p>Registers a listener callback to be executed whenever the watchExpression changes (<a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch" title="AngularJS api: $watch">docs</a>).</p>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-js" data-lang="js"><span style="color:#6272a4">// When the data changes, drawPlot() is executed
</span><span style="color:#6272a4"></span>scope.$watch(<span style="color:#f1fa8c">&#34;data&#34;</span>, <span style="color:#8be9fd;font-style:italic">function</span> () {
  drawPlot();
}, <span style="color:#ff79c6">true</span>);
</code></pre></div><ul>
<li>
<p><code>$apply(exp)</code></p>
<p>Execute an expression in angular from outside of the angular framework. For example from browser DOM events, timeouts, XHR or third party libraries (<a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$apply" title="AngularJS api: $apply">docs</a>).</p>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-js" data-lang="js">scope.$apply(<span style="color:#8be9fd;font-style:italic">function</span> () {
  scope.data <span style="color:#ff79c6">=</span> [];
});
</code></pre></div></div>
  <div class="post-footer">
    <div class="post-date">February 26, 2013</div>
    <div class="post-links">
      <a href="https://twitter.com/search?q=https%3a%2f%2fbrunoscopelliti.com%2fblog%2fuse-cases-of-angularjs-directives%2f" target="_blank" rel="noopener noreferrer">Discuss on Twitter</a>
      <span class="post-links-spacer" aria-hidden="true">&bullet;</span>
      <a href="https://github.com/brunoscopelliti/brunoscopelliti.com/edit/master/www/content/blog/use-cases-of-angularjs-directives.md" target="_blank" rel="noopener noreferrer">Edit on GitHub</a>
    </div>
    <div class="post-share">
      <span class="post-share-line"></span>
      <span class="post-share-text">Share article</span>
      <a class="post-share-link" href="https://twitter.com/intent/tweet?url=https%3a%2f%2fbrunoscopelliti.com%2fblog%2fuse-cases-of-angularjs-directives%2f" target="_blank" rel="noopener noreferrer" aria-label="Share article on Twitter">Twitter</a>
      <a class="post-share-link" href="https://www.reddit.com/submit?title=Use%20cases%20of%20AngularJS%20directives&url=https%3a%2f%2fbrunoscopelliti.com%2fblog%2fuse-cases-of-angularjs-directives%2f" target="_blank" rel="noopener noreferrer" aria-label="Share article on Reddit">Reddit</a>
    </div>
    <div class="post-author">
      <div class="avatar-frame"><img src="/images/me.jpg" alt="Bruno Scopelliti" /></div>
      <div class="post-author-bio">
        <strong>Bruno Scopelliti</strong> is an independent software engineer, with focus on frontend development.
        <br/>He lives in nice Bologna, Italy.
      </div>
    </div>
  </div>
</article>

<script>
  (function(){var a=window.BS_blog,o=a.$,r=o("[data-js='post'] a");for(var e=0;e<r.length;e++)t=r[e],t.hostname!==location.hostname&&(t.setAttribute("target","_blank"),t.setAttribute("rel","noopener noreferrer"));var t;})();

</script>

<script>
  (function(){var i=window.BS_blog,M=i.$1,g=i.$,m="<img class='anchor' src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEwIDEzYTUgNSAwIDAgMCA3LjU0LjU0bDMtM2E1IDUgMCAwIDAtNy4wNy03LjA3bC0xLjcyIDEuNzEiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik0xNCAxMWE1IDUgMCAwIDAtNy41NC0uNTRsLTMgM2E1IDUgMCAwIDAgNy4wNyA3LjA3bDEuNzEtMS43MSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+' aria-hidden='true' />",A=M("[data-js='post']"),t=g("h2",A);for(var a=0;a<t.length;a++)I=t[a],I.id&&(I.innerHTML=b(I.textContent,I.id));var I;function b(D,r){return"<a href='#"+r+"'>"+m+D+"</a>"}})();

</script>

      </main>
    </div>

    <footer class="site-footer">
      <div class="site-width-wrapper">
        <div class="footer-content"><div class="contact-form">
  <h2>Contact me</h2><svg class="svg-airplane" enable-background="new 0 0 32 32" height="24px" version="1.1" viewBox="0 0 32 32" width="24px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true">
  <g>
    <g>
      <path d="M1.911,16.179c-1.084,0.568-1.039,1.4,0.098,1.852l3.364,1.331c1.137,0.449,2.856,0.204,3.821-0.55    L23.806,7.289c0.961-0.757,1.064-0.645,0.229,0.249L12.483,19.902c-0.837,0.892-0.59,1.984,0.55,2.425l0.394,0.154    c1.14,0.44,3,1.182,4.132,1.642l3.732,1.521c1.133,0.46,2.06,0.842,2.062,0.849c0.001,0.007,0.006,0.028,0.012,0.03    s0.273-0.962,0.594-2.141l5.688-20.908c0.321-1.18-0.302-1.681-1.385-1.113L1.911,16.179z" fill="#fff"/>
    </g>
    <g>
      <path d="M11.146,29.864c-0.067,0.199,2.301-3.429,2.301-3.429c0.669-1.022,0.29-2.241-0.842-2.703l-2.582-1.058    c-1.132-0.463-1.674,0.08-1.205,1.212C8.818,23.887,11.214,29.66,11.146,29.864z" fill="#fff"/>
    </g>
  </g>
</svg><form action="https://formspree.io/f/xwkwjvzd" method="POST" data-js="contact">
    <div class="form-field">
      <label>
        Your email:
        <input type="email" name="email" autocomplete="off" placeholder="you@example.com"/>
      </label>
    </div>
    <div  class="form-field">
      <label>
        Message:
        <textarea type="text" name="message" rows="7" placeholder="Hi Bruno!"></textarea>
      </label>
    </div>
    <button type="submit" class="btn-submit">Send</button>
    <div class="error" data-js="result"></div>
  </form>
</div>

<script>
  (function(){var e=window.BS_blog,n=e.$1,i=e.listen,u=e.ajax,t=n("[data-js='contact']"),l=n("[type='submit']",t);function v(r){r.preventDefault(),u(t.method,t.action,new FormData(t),s,o);function s(){var a=n("[data-js='result']",t);l.style="display: none ",t.reset(),a&&(a.innerHTML="Thanks!")}function o(){var a=n("[data-js='result']",t);a&&(a.innerHTML="Oops! There was a problem.")}}i("submit",t,v);})();

</script><div class="social-links">
  <a href="https://twitter.com/brunoscopelliti" target="_blank" rel="noopener noreferrer" aria-label="Twitter"><svg height="32px" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path fill="#fff" d="M346.8,80c22.3,0,43.8,9.3,59,25.6l6.1,6.5l8.7-1.7c4.5-0.9,8.9-1.9,13.3-3.1c-1,1.4-5.7,6.1-11,10.8  c-4.5,4-17.8,16.5-17.8,16.5s13,4.1,21.1,5s17.4-0.6,18.9-0.8c-2.8,2.3-7.8,5.8-10.8,7.9l-7,5.1l0.4,8.6c0.2,3.8,0.3,7.8,0.3,11.8  c0,30.2-5.9,61.8-17,91.5c-11.7,31.2-28.5,59.4-50,83.8c-23,26.1-50.2,46.5-81.1,60.8c-33.8,15.7-71.3,23.6-111.5,23.6  c-28.9,0-57.4-4.8-84.5-14.2c9.9-1.9,19.6-4.6,29.1-7.9c21.7-7.6,41.9-18.7,60.1-33l35.3-27.7l-44.9-0.8  c-26.1-0.5-49.7-13.4-64.3-33.9c7.3-0.5,14.5-1.8,21.5-3.7l60.7-20.2l-61.7-10.9c-29.6-5.9-52.8-27.9-61.3-55.8  c7.8,2,15.4,2.8,23.9,3.3c0,0,31.8,1.4,55.8-0.1c-13-6.2-46.4-29.2-46.4-29.2c-22.5-15.1-36-40.2-36-67.4c0-6.4,0.8-12.8,2.2-19  c21.9,22.4,47,41.1,75.1,55.5c37,19.1,76.9,29.8,118.6,31.9l21.2,1.1l-4.8-20.7c-1.4-5.9-2.1-12.1-2.1-18.5  C265.9,116.3,302.2,80,346.8,80 M346.8,64c-53.5,0-96.8,43.4-96.8,96.9c0,7.6,0.8,15,2.5,22.1C172,179,100.6,140.4,52.9,81.7  c-8.3,14.3-13.1,31-13.1,48.7c0,33.6,17.1,63.3,43.1,80.7C67,210.7,52,206.3,39,199c0,0.4,0,0.8,0,1.2c0,47,33.4,86.1,77.7,95  c-8.1,2.2-16.7,3.4-25.5,3.4c-6.2,0-12.3-0.6-18.2-1.8c12.3,38.5,48.1,66.5,90.5,67.3c-33.1,26-74.9,41.5-120.3,41.5  c-7.8,0-15.5-0.5-23.1-1.4C62.9,432,113.8,448,168.4,448C346.6,448,444,300.3,444,172.2c0-4.2-0.1-8.4-0.3-12.5  c18.9-13.7,35.3-30.7,48.3-50.2c-17.4,7.7-36,12.9-55.6,15.3c20-12,35.4-31,42.6-53.6c-18.7,11.1-39.4,19.2-61.5,23.5  C399.8,75.8,374.6,64,346.8,64L346.8,64z"/>
</svg></a>
  <a href="https://github.com/brunoscopelliti" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg height="32px" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true">
  <path fill="#fff" d="M256,48.3c28,0,55.2,5.6,80.8,16.7c24.8,10.7,47,26.1,66.1,45.7c19.1,19.6,34.2,42.5,44.7,67.9  c10.9,26.4,16.4,54.4,16.4,83.3c0,45.8-13.9,89.5-40.2,126.3c-12.6,17.7-27.8,33.2-45,46.2c-15.8,11.9-33,21.3-51.2,28.2  c0-1.9,0-4.1,0-6.5c0.1-11.9,0.2-29.8,0.2-50.4c0-12.4-2-22.5-4.9-30.5c37.2-8.3,92-33.7,92-125.4c0-24.6-7.1-46.5-21.2-65.1  c3.1-12.9,5.5-35.6-5.1-63l-2.7-7.1l-7.2-2.4c-1.5-0.5-4.8-1.3-10-1.3c-11.5,0-30.9,3.9-59.5,22.6c-17-4.2-34.8-6.6-53.1-6.6H256  h-0.1c-18.3,0-36.2,2.4-53.1,6.6c-28.6-18.7-48-22.7-59.5-22.7c-5.2,0-8.5,0.9-10,1.4l-7.2,2.4l-2.7,7.1c-10.6,27.5-8.2,50.2-5.1,63  c-14.1,18.7-21.2,40.6-21.2,65.1c0,49.6,16,79.9,36.6,98.5c-8.1-6.6-18.6-12.1-31.2-13l-0.5,0l-0.5,0l-0.3,0  c-13.1,0-22.3,5.4-25.2,14.7c-4.7,14.8,9.8,25,14.6,28.4l0.5,0.6l1.5,0.6c1.6,1,10.1,7,16.9,24.5c2,6.2,6.3,14.5,13.6,22.2  c-13.1-11.2-24.8-24-34.9-38.1C61.9,351.5,48,307.8,48,262c0-28.9,5.5-56.9,16.4-83.3c10.5-25.5,25.5-48.3,44.7-67.9  c19.1-19.6,41.4-35,66.1-45.7C200.8,54,228,48.3,256,48.3 M136.7,351c16.8,14.1,36.3,20.9,52.3,24.5c-0.8,2.2-1.5,4.5-2.1,6.9  c-3.4,1-7.5,1.8-11.7,1.8c-10.9,0-19-5.4-25.6-16.9C147.2,362.7,142.8,356.6,136.7,351 M140.4,439.6c9.8,5.3,22.1,8.8,37.2,8.8  c2.2,0,4.4-0.1,6.7-0.2c0,2.8,0,5.5,0.1,7.9c0,2.4,0,4.6,0.1,6.5C168.9,456.8,154.2,449.1,140.4,439.6 M256,32.3  C132.3,32.3,32,135.2,32,262c0,101.5,64.2,187.5,153.2,217.9c1.4,0.3,2.6,0.4,3.8,0.4c8.3,0,11.5-6.1,11.5-11.4  c0-5.5-0.2-19.9-0.3-39.1c-8.4,1.9-15.9,2.7-22.6,2.7c-43.1,0-52.9-33.5-52.9-33.5c-10.2-26.5-24.9-33.8-24.9-33.8  c-19.5-13.7-0.1-14.2,1.4-14.2c0.1,0,0.1,0,0.1,0c22.5,2,34.3,23.9,34.3,23.9c11.2,19.6,26.2,25.2,39.6,25.2c10.5,0,20-3.4,25.6-6  c2-14.8,7.8-24.9,14.2-30.7c-49.7-5.8-102-25.5-102-113.5c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,1.6-0.5,5-0.5  c8.1,0,26.4,3.1,56.6,24.1c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7c30.2-21,48.5-24.1,56.6-24.1c3.4,0,5,0.5,5,0.5  c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3c8,7.1,15.2,21.1,15.2,42.5  c0,30.7-0.3,55.5-0.3,63c0,5.4,3.1,11.5,11.4,11.5c1.2,0,2.6-0.1,4-0.4C415.9,449.5,480,363.4,480,262  C480,135.2,379.7,32.3,256,32.3L256,32.3z"/>
</svg></a>
  <a href="/blog/index.xml" aria-label="RSS"><svg height="32px" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <g fill="#fff">
    <path d="M119.9,336.1c-30.8,0-55.9,25.1-55.9,55.8c0,30.8,25.1,55.6,55.9,55.6c30.9,0,55.9-24.9,55.9-55.6   C175.8,361.2,150.8,336.1,119.9,336.1z M119.9,431.5c-22,0-39.9-17.8-39.9-39.6c0-21.9,17.9-39.8,39.9-39.8   c22,0,39.9,17.9,39.9,39.8C159.8,413.7,141.9,431.5,119.9,431.5z"/>
    <path d="M64,192v79.9c48,0,94.1,14.2,128,48.1c33.9,33.9,48,79.9,48,128h80C320,308.1,204,192,64,192z M303.5,432h-48   c-3.1-49.7-21-92.1-52.2-123.3C172.1,277.4,130,259.5,80,256.4v-47.8c26,1.8,52.1,8,76.7,18.5c28.5,12.2,54.2,29.6,76.4,51.8   c22.2,22.2,39.6,47.9,51.8,76.4C295.5,379.9,301.7,405.6,303.5,432z"/>
    <path d="M64,64v79.9c171,0,303.9,133,303.9,304.1H448C448,236.3,276,64,64,64z M291.4,220.5C235.4,164.4,161,132,80,128.2V80.3   C270,88.5,423.5,241.8,431.7,432h-48.2C379.7,351.1,347.3,276.5,291.4,220.5z"/>
  </g>
</svg></a>
</div></div>
        <p class="colophon">2013 ~ 2021 Bruno Scopelliti
          <br/>Built with <a href="https://gohugo.io/" title="Hugo" target="_blank" rel="noopener noreferrer">Hugo</a>.
        </p>
      </div>
    </footer>
  </body>
</html>
